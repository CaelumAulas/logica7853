<meta charset="UTF-8">
<script src="funcoes.js"></script>
<script src="https://bit.ly/2wIJYkD"></script>
<script src="https://bit.ly/2Ngt8nn"></script>
<script src="https://bit.ly/2Q2v0P4"></script>

<h1>Cadastro Academia</h1>

Nome: <input type="text" id="campoNome"> <br>
Peso: <input type="text" id="campoPeso"> <br>
Altura: <input type="text" id="campoAltura"> <br>
Data de Nascimento: <input type="text" id="campoData"><br>
<input type="checkbox" id="campoProblemaSaude"> Tem problemas de saúde<br><br>
<button onclick="cadastro()">Cadastrar</button>

<script>
    var numero = 0;
    function cadastro() {
        var nome = campoNome.value;
        var peso = parseFloatBrasil(campoPeso.value);
        var altura = parseFloatBrasil(campoAltura.value);
        var dataNascimento = campoData.value;
        var temProblemaDeSaude = campoProblemaSaude.checked;
        
        numero=numero+1;

        campoNome.value="";
        campoPeso.value="";
        campoAltura.value="";
        campoData.value="";
        campoProblemaSaude.checked=false;

        var dataNascimentoSeparada = dataNascimento.split("/");
        var diaNascimento = parseInt(dataNascimentoSeparada[0]);
        var mesNascimento = parseInt(dataNascimentoSeparada[1]);
        var anoNascimento = parseInt(dataNascimentoSeparada[2]);

        var idade = calculaIdade(diaNascimento,mesNascimento,anoNascimento);

        var fraseDeAcompanhamentoMedico;
        //SE tem problema de saude
        if (temProblemaDeSaude) {
            fraseDeAcompanhamentoMedico = "Precisa de acompanhamento médico";
        }
        //SE NÃO tem problema de saúde
        if (!temProblemaDeSaude) {
            fraseDeAcompanhamentoMedico = "Não precisa de acompanhamento médico";
        }
        //SE numero IGUAL a 1
        if (numero == 1) {
            mostra(`<h3>Fichas:</h3>`);
        }
        mostra(`
        Número de cadastro: ${numero}
        <br>
        Nome: ${nome}
        <br>
        Peso: ${formataFloatBrasil(peso)}kg
        <br>
        Altura: ${formataFloatBrasil(altura)}m
        <br>
        Data de Nascimento: ${dataNascimento}
        <br>
        Idade: ${idade} anos
        <br>
        ${fraseDeAcompanhamentoMedico}
        `);
    }
</script>